@startuml
actor Usuario
participant "Frontend" as FE
participant "Servicio de Carrito" as Cart
participant "Servicio de Inventario" as Inv
database "Base de Datos" as DB

Usuario -> FE : Confirmar compra
FE -> Cart : POST /checkout

group Transacci贸n at贸mica: verificaci贸n y registro
  Cart -> Inv : Verificar stock
  Inv --> Cart : Stock disponible
  Cart -> DB : Descontar stock y registrar pedido
  DB --> Cart : OK
end

Cart --> FE : Pedido confirmado
FE --> Usuario : Mostrar confirmaci贸n
@enduml

