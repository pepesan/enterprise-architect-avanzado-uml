@startuml
[*] --> Pedido

state Pedido {
  --
  state Pago {
    [*] --> PendientePago
    PendientePago --> Confirmado : pagar()
  }
  --
  state EnvÃ­o {
    [*] --> Preparando
    Preparando --> Enviado : enviar()
  }
}

Pedido --> [*] : finalizar()
@enduml
