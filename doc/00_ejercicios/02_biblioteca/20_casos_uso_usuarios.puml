@startuml
title Sistema de Biblioteca – Casos de Uso: Gestión de Usuarios

left to right direction
skinparam actorStyle awesome
skinparam usecase {
  BackgroundColor #EEF3F7
  BorderColor #547AA5
}

actor "Usuario" as U
actor "Gestor" as G

' El gestor es un tipo especial de usuario
U <|-- G

rectangle "Sistema de Gestión de Usuarios" as SGU {
  (Registrarse) as UC_Registrarse
  (Iniciar sesión) as UC_Login
  (Cerrar sesión) as UC_Logout
  (Recuperar contraseña) as UC_Recuperar
  (Envio Email) as UC_Recuperar_Mail
  (Cambiar contraseña) as UC_Cambiar
  (Autenticar credenciales) as UC_Auth

  (Gestionar usuarios) as UC_GestionUsuarios
  (Añadir usuario) as UC_AddUsuario
  (Editar usuario) as UC_EditUsuario
  (Eliminar usuario) as UC_DelUsuario
  (Bloquear usuario) as UC_Bloquear
  (Desbloquear usuario) as UC_Desbloquear
  (Resetear contraseña) as UC_ResetPass
}

' Relaciones del Usuario
U --> UC_Registrarse
U --> UC_Login
U --> UC_Logout
U --> UC_Recuperar
U --> UC_Cambiar

' Relaciones del Gestor
G --> UC_GestionUsuarios

' Desglose de la gestión de usuarios
UC_GestionUsuarios .> UC_AddUsuario : <<include>>
UC_GestionUsuarios .> UC_EditUsuario : <<include>>
UC_GestionUsuarios .> UC_DelUsuario : <<include>>
UC_GestionUsuarios .> UC_Bloquear : <<include>>
UC_GestionUsuarios .> UC_Desbloquear : <<include>>
UC_GestionUsuarios .> UC_ResetPass : <<include>>

' Casos relacionados con autenticación
UC_Login .> UC_Auth : <<include>>
UC_Recuperar .> UC_Recuperar_Mail : <<include>>
UC_Cambiar .> UC_Auth : <<include>>

@enduml
