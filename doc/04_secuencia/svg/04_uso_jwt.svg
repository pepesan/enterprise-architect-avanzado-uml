<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="604px" preserveAspectRatio="none" style="width:866px;height:604px;background:#FFFFFF;" version="1.1" viewBox="0 0 866 604" width="866px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="290.336" style="stroke:#000000;stroke-width:1.5;" width="849.5437" x="10" y="213.892"/><g><title>Usuario</title><rect fill="#000000" fill-opacity="0.00000" height="437.1601" width="8" x="44.6549" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="48" x2="48" y1="84.0679" y2="521.228"/></g><g><title>Frontend</title><rect fill="#000000" fill-opacity="0.00000" height="437.1601" width="8" x="205.948" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="209.7571" x2="209.7571" y1="84.0679" y2="521.228"/></g><g><title>Servicio de Perfil</title><rect fill="#000000" fill-opacity="0.00000" height="437.1601" width="8" x="459.4112" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="462.9794" x2="462.9794" y1="84.0679" y2="521.228"/></g><g><title>Servicio de Autenticaci.n</title><rect fill="#000000" fill-opacity="0.00000" height="437.1601" width="8" x="646.6134" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="650.3287" x2="650.3287" y1="84.0679" y2="521.228"/></g><g><title>Base de Datos</title><rect fill="#000000" fill-opacity="0.00000" height="437.1601" width="8" x="795.7209" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="798.898" x2="798.898" y1="84.0679" y2="521.228"/></g><g class="participant participant-head" data-participant="Usuario"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3098" x="20" y="79.9659">Usuario</text><ellipse cx="48.6549" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.6549,21.5 L48.6549,48.5 M35.6549,29.5 L61.6549,29.5 M48.6549,48.5 L35.6549,63.5 M48.6549,48.5 L61.6549,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Usuario"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3098" x="20" y="535.194">Usuario</text><ellipse cx="48.6549" cy="547.7959" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.6549,555.7959 L48.6549,582.7959 M35.6549,563.7959 L61.6549,563.7959 M48.6549,582.7959 L35.6549,597.7959 M48.6549,582.7959 L61.6549,597.7959" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="FE"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.3818" x="172.7571" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3818" x="179.7571" y="71.9659">Frontend</text></g><g class="participant participant-tail" data-participant="FE"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.3818" x="172.7571" y="520.228"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3818" x="179.7571" y="542.194">Frontend</text></g><g class="participant participant-head" data-participant="Perfil"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.8636" x="401.9794" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.8636" x="408.9794" y="71.9659">Servicio de Perfil</text></g><g class="participant participant-tail" data-participant="Perfil"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.8636" x="401.9794" y="520.228"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.8636" x="408.9794" y="542.194">Servicio de Perfil</text></g><g class="participant participant-head" data-participant="Auth"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178.5694" x="561.3287" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.5694" x="568.3287" y="71.9659">Servicio de Autenticaci&#243;n</text></g><g class="participant participant-tail" data-participant="Auth"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178.5694" x="561.3287" y="520.228"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.5694" x="568.3287" y="542.194">Servicio de Autenticaci&#243;n</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.6456" x="749.898" y="79.9659">Base de Datos</text><path d="M781.7209,29 C781.7209,19 799.7209,19 799.7209,19 C799.7209,19 817.7209,19 817.7209,29 L817.7209,55 C817.7209,65 799.7209,65 799.7209,65 C799.7209,65 781.7209,65 781.7209,55 L781.7209,29" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M781.7209,29 C781.7209,39 799.7209,39 799.7209,39 C799.7209,39 817.7209,39 817.7209,29" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.6456" x="749.898" y="535.194">Base de Datos</text><path d="M781.7209,549.2959 C781.7209,539.2959 799.7209,539.2959 799.7209,539.2959 C799.7209,539.2959 817.7209,539.2959 817.7209,549.2959 L817.7209,575.2959 C817.7209,585.2959 799.7209,585.2959 799.7209,585.2959 C799.7209,585.2959 781.7209,585.2959 781.7209,575.2959 L781.7209,549.2959" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M781.7209,549.2959 C781.7209,559.2959 799.7209,559.2959 799.7209,559.2959 C799.7209,559.2959 817.7209,559.2959 817.7209,549.2959" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="message" data-participant-1="Usuario" data-participant-2="FE"><polygon fill="#181818" points="197.948,113.7739,207.948,117.7739,197.948,121.7739,201.948,117.7739" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.6549" x2="203.948" y1="117.7739" y2="117.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.2931" x="55.6549" y="111.9649">Solicitar "Ver mi perfil"</text></g><g class="message" data-participant-1="FE" data-participant-2="Perfil"><polygon fill="#181818" points="451.4112,163.186,461.4112,167.186,451.4112,171.186,455.4112,167.186" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="209.948" x2="457.4112" y1="167.186" y2="167.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.0121" x="216.948" y="143.6709">GET /perfil</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.4632" x="216.948" y="161.377">Authorization: Bearer &lt;access_token&gt;</text></g><g class="message" data-participant-1="Perfil" data-participant-2="Auth"><polygon fill="#181818" points="638.6134,194.892,648.6134,198.892,638.6134,202.892,642.6134,198.892" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="463.4112" x2="644.6134" y1="198.892" y2="198.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.9071" x="470.4112" y="193.083">Validar &lt;access_token&gt;</text></g><path d="M10,213.892 L72.459,213.892 L72.459,223.598 L62.459,233.598 L10,233.598 L10,213.892" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="290.336" style="stroke:#000000;stroke-width:1.5;" width="849.5437" x="10" y="213.892"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.459" x="25" y="228.789">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77.2524" x="87.459" y="227.6509">[Token v&#225;lido]</text><g class="message" data-participant-1="Auth" data-participant-2="Perfil"><polygon fill="#181818" points="474.4112,253.304,464.4112,257.304,474.4112,261.304,470.4112,257.304" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="468.4112" x2="649.6134" y1="257.304" y2="257.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.2022" x="480.4112" y="251.495">OK (claims: sub, roles, exp)</text></g><g class="message" data-participant-1="Perfil" data-participant-2="DB"><polygon fill="#181818" points="787.7209,285.01,797.7209,289.01,787.7209,293.01,791.7209,289.01" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="463.4112" x2="793.7209" y1="289.01" y2="289.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.3971" x="470.4112" y="283.201">Consultar perfil(sub)</text></g><g class="message" data-participant-1="DB" data-participant-2="Perfil"><polygon fill="#181818" points="474.4112,316.716,464.4112,320.716,474.4112,324.716,470.4112,320.716" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="468.4112" x2="798.7209" y1="320.716" y2="320.716"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.5311" x="480.4112" y="314.907">Datos de perfil</text></g><g class="message" data-participant-1="Perfil" data-participant-2="FE"><polygon fill="#181818" points="220.948,348.4221,210.948,352.4221,220.948,356.4221,216.948,352.4221" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="214.948" x2="462.4112" y1="352.4221" y2="352.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.9291" x="226.948" y="346.6131">200 OK + Perfil JSON</text></g><g class="message" data-participant-1="FE" data-participant-2="Usuario"><polygon fill="#181818" points="59.6549,380.1281,49.6549,384.1281,59.6549,388.1281,55.6549,384.1281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="53.6549" x2="208.948" y1="384.1281" y2="384.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.8631" x="65.6549" y="378.3191">Mostrar perfil</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="859.5437" y1="393.1281" y2="393.1281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148.9499" x="15" y="404.887">[Token inv&#225;lido o expirado]</text><g class="message" data-participant-1="Auth" data-participant-2="Perfil"><polygon fill="#181818" points="474.4112,428.816,464.4112,432.816,474.4112,436.816,470.4112,432.816" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="468.4112" x2="649.6134" y1="432.816" y2="432.816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.9751" x="480.4112" y="427.007">401 Invalid token</text></g><g class="message" data-participant-1="Perfil" data-participant-2="FE"><polygon fill="#181818" points="220.948,460.522,210.948,464.522,220.948,468.522,216.948,464.522" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="214.948" x2="462.4112" y1="464.522" y2="464.522"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.3041" x="226.948" y="458.713">401 Unauthorized</text></g><g class="message" data-participant-1="FE" data-participant-2="Usuario"><polygon fill="#181818" points="59.6549,492.228,49.6549,496.228,59.6549,500.228,55.6549,496.228" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="53.6549" x2="208.948" y1="496.228" y2="496.228"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.5281" x="65.6549" y="490.419">Solicitar re-login</text></g><!--SRC=[TP9DJiCm48NtFiKego9QKH2h25KYj4M0e4ZzMI6XQMB0mlL4jbCXRiCPE48lnZXE_qIxYPpCDs_UF0TpJnQchaAhI9HelSfLYSP3ChHal3H50kXWEDWlZgLTyWj18U5PsZUbQomUZwFN5Ijo2NEr-ZLr2t_w40LwdAEJa6JXoMGVFRaQw6T2D0QXqsCdaCAOD4jwj93Cf8M5WZAQ45ncAFfWy7OmWRDOUp5X55drZLwHII6JQBdv2lDSElVgwLEQdcXQMIJWB353hGhynmdK7YRX3ClL3oCa8BPqTWsC7g2LQrGBbuAhvcsmfALhW_mgJxXXEwsVCNr3nbKwx1KzjxWbO5pSKwtJ2J55R4TedT15jnjcdwuBz-FH4sCX7aRMUQRmICxRpJmXDSSVjrAcsGiek5KMZwnusJs7ExCCCK4TpW4xWPaQR2v05eUiR2_LoewcTsK4_tv_]--></g></svg>